# Screen: Login (로그인)

**Route**: `/auth/login`
**Status**: Implemented
**Last Updated**: 2025-12-18
**Priority**: P0
**Dependencies**: Supabase Auth

---

## 1. 화면 개요

### 목적
기존 사용자가 이메일/비밀번호 또는 소셜 로그인으로 플랫폼에 접근한다.

### 사용자 흐름
```
/ (홈) 또는 Protected Route → /auth/login → /dashboard (프로) 또는 / (골퍼)
```

### 접근 조건
- **인증 필요**: No (비로그인 전용)
- **권한 수준**: guest
- **리디렉션**: 이미 로그인 시 대시보드로 리디렉션

---

## 2. 레이아웃 구조

### 와이어프레임

```
┌────────────────────────────────────────────────────────────┐
│                         Header (minimal)                    │
├────────────────────────────────────────────────────────────┤
│                                                            │
│                    ┌──────────────────┐                    │
│                    │                  │                    │
│                    │   TEE:UP Logo    │                    │
│                    │                  │                    │
│                    │   "로그인"        │                    │
│                    │                  │                    │
│                    │  ┌────────────┐  │                    │
│                    │  │ 이메일      │  │                    │
│                    │  └────────────┘  │                    │
│                    │                  │                    │
│                    │  ┌────────────┐  │                    │
│                    │  │ 비밀번호    │  │                    │
│                    │  └────────────┘  │                    │
│                    │                  │                    │
│                    │  [비밀번호 찾기]  │                    │
│                    │                  │                    │
│                    │  [   로그인   ]  │                    │
│                    │                  │                    │
│                    │  ─── 또는 ───    │                    │
│                    │                  │                    │
│                    │  [카카오 로그인]  │                    │
│                    │                  │                    │
│                    │  계정이 없으신가요?│                    │
│                    │  [회원가입]       │                    │
│                    │                  │                    │
│                    └──────────────────┘                    │
│                                                            │
└────────────────────────────────────────────────────────────┘
```

### 반응형 동작

| Breakpoint | 레이아웃 변화 |
|------------|---------------|
| Mobile | 폼 전체 너비, 패딩 16px |
| md+ | 폼 max-w-md, 중앙 정렬 |

---

## 3. 컴포넌트 목록

### 3.1 LoginForm

**컴포넌트 경로**: `@/app/auth/login/page.tsx` (Server + Client)

#### 폼 필드

| Field | Type | Validation | Error Message |
|-------|------|------------|---------------|
| email | email | required, email format | "유효한 이메일을 입력해주세요" |
| password | password | required, min 8 chars | "비밀번호는 8자 이상이어야 합니다" |

#### 버튼

| Button | Style | Action |
|--------|-------|--------|
| 로그인 | Primary | 이메일/비밀번호 로그인 |
| 카카오 로그인 | Kakao (#FEE500) | OAuth 로그인 |
| 비밀번호 찾기 | Ghost/Link | `/auth/reset-password`로 이동 |
| 회원가입 | Link | `/auth/signup`로 이동 |

---

## 4. 데이터 요구사항

### Server Actions

| Action | 파일 경로 | 설명 |
|--------|----------|------|
| `signInWithEmail` | `@/actions/auth.ts` | 이메일/비밀번호 로그인 |
| `signInWithKakao` | `@/actions/auth.ts` | 카카오 OAuth |

### 로그인 성공 후 리디렉션

- 프로 사용자: `/dashboard`
- 골퍼 사용자: `/` (홈)
- 관리자: `/admin`

---

## 5. 인터랙션 정의

### 5.1 이메일 로그인

1. **Given** 사용자가 로그인 폼에 있을 때
2. **When** 이메일과 비밀번호를 입력하고 로그인 버튼을 클릭하면
3. **Then** 버튼에 로딩 스피너가 표시되고
4. **Then** 성공 시 대시보드로 리디렉션, 실패 시 에러 메시지 표시

### 5.2 카카오 로그인

1. **Given** 사용자가 로그인 페이지에 있을 때
2. **When** 카카오 로그인 버튼을 클릭하면
3. **Then** 카카오 OAuth 페이지로 리디렉션
4. **Then** 인증 후 콜백으로 돌아와 자동 로그인

---

## 6. 접근성 요구사항

- [ ] 모든 입력 필드에 연결된 label
- [ ] 에러 메시지 aria-describedby 연결
- [ ] 로딩 상태 aria-busy
- [ ] Tab 순서: 이메일 → 비밀번호 → 비밀번호 찾기 → 로그인 → 카카오 → 회원가입

---

## 7. 에러 케이스

| 에러 유형 | 메시지 |
|----------|--------|
| 이메일/비밀번호 불일치 | "이메일 또는 비밀번호가 올바르지 않습니다" |
| 존재하지 않는 계정 | "등록되지 않은 이메일입니다" |
| 너무 많은 시도 | "잠시 후 다시 시도해주세요" |
| 네트워크 오류 | "연결을 확인해주세요" |

---

## 8. 관련 화면

- **다음 화면**: [Dashboard Home](../04-dashboard/dashboard-home.md)
- **연관 화면**: [Signup](./signup.md), [Reset Password](./reset-password.md)
