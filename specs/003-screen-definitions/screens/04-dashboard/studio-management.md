# Screen: Studio Management (스튜디오 관리)

**Route**: `/dashboard/studio`
**Status**: Implemented
**Last Updated**: 2025-12-18
**Priority**: P1
**Dependencies**: Auth, Dashboard Layout, Studios System

---

## 1. 화면 개요

### 목적
프로가 소속된 스튜디오(골프 아카데미)를 관리하거나, 새 스튜디오를 생성/가입한다.

### 사용자 흐름
```
/dashboard → /dashboard/studio → 스튜디오 생성/가입 → 관리
```

### 접근 조건
- **인증 필요**: Yes
- **권한 수준**: pro
- **전제 조건**: 프로 승인 완료

---

## 2. 레이아웃 구조

### 2.1 스튜디오 미가입 상태

```
┌────────────────────────────────────────────────────────────────┐
│ Dashboard Nav                                                   │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  스튜디오                                                        │
│                                                                 │
│  ┌────────────────────────────────────────────────────────┐    │
│  │                                                        │    │
│  │  🏌️ 스튜디오에 가입하세요                              │    │
│  │                                                        │    │
│  │  스튜디오를 만들거나 기존 스튜디오에 가입하여            │    │
│  │  팀 페이지를 운영하세요.                                │    │
│  │                                                        │    │
│  │  [새 스튜디오 만들기]  [초대 코드로 가입]                │    │
│  │                                                        │    │
│  └────────────────────────────────────────────────────────┘    │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

### 2.2 스튜디오 가입 상태

```
┌────────────────────────────────────────────────────────────────┐
│ Dashboard Nav                                                   │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  스튜디오 관리                                                   │
│                                                                 │
│  ┌────────────────────────────────────────────────────────┐    │
│  │ [스튜디오 로고]                                         │    │
│  │                                                        │    │
│  │ 강남골프아카데미                                        │    │
│  │ golf-academy                                           │    │
│  │                                                        │    │
│  │ 역할: 소속 프로                                         │    │
│  │ 가입일: 2024-01-15                                     │    │
│  │                                                        │    │
│  │ [스튜디오 페이지 보기]  [탈퇴하기]                        │    │
│  └────────────────────────────────────────────────────────┘    │
│                                                                 │
│  소속 프로 (4명)                                                 │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐              │
│  │ 나      │ │ 김프로  │ │ 이프로  │ │ 박프로  │              │
│  │ (본인)  │ │         │ │         │ │         │              │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘              │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

---

## 3. 주요 컴포넌트

### 3.1 EmptyStudioState

**스튜디오 미가입 상태**

| Element | Description |
|---------|-------------|
| 아이콘 | 골프 이모지 또는 빌딩 아이콘 |
| 제목 | "스튜디오에 가입하세요" |
| 설명 | 스튜디오 기능 안내 |
| 생성 버튼 | Primary, 새 스튜디오 생성 모달 |
| 가입 버튼 | Secondary, 초대 코드 입력 모달 |

### 3.2 StudioInfoCard

**스튜디오 정보 카드**

| Element | Description |
|---------|-------------|
| 로고 | 스튜디오 로고 이미지 |
| 이름 | 스튜디오 이름 |
| 슬러그 | URL slug |
| 역할 | owner / member |
| 가입일 | 가입 날짜 |
| 페이지 보기 | 스튜디오 공개 페이지 링크 |
| 탈퇴하기 | Destructive, 확인 모달 |

### 3.3 StudioMemberList

**소속 프로 목록**

| Element | Description |
|---------|-------------|
| 프로 카드 | 프로필 이미지, 이름 |
| 본인 표시 | "(본인)" 뱃지 |
| 역할 뱃지 | Owner/Member 구분 |

### 3.4 CreateStudioModal

**스튜디오 생성 모달**

```
┌─────────────────────────────────────┐
│  새 스튜디오 만들기                   │
│                                     │
│  스튜디오 이름 *                      │
│  ┌───────────────────────────────┐  │
│  │ 강남골프아카데미                 │  │
│  └───────────────────────────────┘  │
│                                     │
│  URL 슬러그 *                        │
│  ┌───────────────────────────────┐  │
│  │ golf-academy                   │  │
│  └───────────────────────────────┘  │
│  teeup.kr/studio/golf-academy       │
│                                     │
│  위치                               │
│  ┌───────────────────────────────┐  │
│  │ 서울 강남구                     │  │
│  └───────────────────────────────┘  │
│                                     │
│           [취소] [생성하기]           │
└─────────────────────────────────────┘
```

### 3.5 JoinStudioModal

**초대 코드 가입 모달**

```
┌─────────────────────────────────────┐
│  스튜디오 가입                        │
│                                     │
│  초대 코드를 입력하세요                │
│  ┌───────────────────────────────┐  │
│  │ ABC123                        │  │
│  └───────────────────────────────┘  │
│                                     │
│  스튜디오 오너에게 초대 코드를          │
│  요청하세요.                          │
│                                     │
│           [취소] [가입하기]           │
└─────────────────────────────────────┘
```

---

## 4. 데이터 요구사항

### Server Actions

| Action | 설명 |
|--------|------|
| `getMyStudio` | 현재 사용자의 스튜디오 정보 |
| `createStudio` | 새 스튜디오 생성 |
| `joinStudio` | 초대 코드로 가입 |
| `leaveStudio` | 스튜디오 탈퇴 |
| `getStudioMembers` | 소속 프로 목록 |

### 데이터 스키마

```typescript
interface Studio {
  id: string;
  name: string;
  slug: string;
  location: string | null;
  logo_url: string | null;
  description: string | null;
  invite_code: string;
  owner_id: string;
  created_at: string;
}

interface StudioMembership {
  studio_id: string;
  pro_profile_id: string;
  role: 'owner' | 'member';
  joined_at: string;
}
```

---

## 5. 인터랙션 정의

### 5.1 스튜디오 생성

1. **Given** 프로가 스튜디오 미가입 상태일 때
2. **When** "새 스튜디오 만들기" 버튼을 클릭하면
3. **Then** 생성 모달이 표시된다
4. **When** 정보를 입력하고 생성을 클릭하면
5. **Then** 스튜디오가 생성되고 오너로 설정된다
6. **Then** 스튜디오 관리 화면으로 전환된다

### 5.2 스튜디오 가입

1. **Given** 프로가 스튜디오 미가입 상태일 때
2. **When** "초대 코드로 가입" 버튼을 클릭하면
3. **Then** 가입 모달이 표시된다
4. **When** 유효한 초대 코드를 입력하면
5. **Then** 스튜디오에 멤버로 추가된다

---

## 6. 접근성 요구사항

- [ ] 모달: focus trap, Escape로 닫기
- [ ] 버튼: 명확한 aria-label
- [ ] 카드: 키보드로 접근 가능한 액션

---

## 7. 에러 케이스

| 에러 유형 | 처리 |
|----------|------|
| 중복 슬러그 | "이미 사용 중인 URL입니다" |
| 잘못된 초대 코드 | "유효하지 않은 초대 코드입니다" |
| 이미 스튜디오 가입 | "이미 다른 스튜디오에 가입되어 있습니다" |

---

## 8. 관련 화면

- **연관 화면**: [Studio Portfolio](../03-portfolio/studio-portfolio.md)
- **다음 화면**: [Studio Join](../09-studio-error/studio-join.md)
