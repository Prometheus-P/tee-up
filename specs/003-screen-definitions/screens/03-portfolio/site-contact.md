# Screen: Site Contact (ì‚¬ì´íŠ¸ ë¬¸ì˜)

**Route**: `/site/[handle]/contact`
**Status**: Not Implemented
**Last Updated**: 2025-12-18
**Priority**: P2
**Dependencies**: Portfolio System, Site Portfolio

---

## 1. í™”ë©´ ê°œìš”

### ëª©ì 
ì»¤ìŠ¤í…€ ì‚¬ì´íŠ¸ URLì˜ ì „ìš© ë¬¸ì˜ í˜ì´ì§€ë¡œ, í”„ë¡œì—ê²Œ ì§ì ‘ ì—°ë½í•  ìˆ˜ ìˆëŠ” í¼ì„ ì œê³µí•œë‹¤.

### ì‚¬ìš©ì íë¦„
```
/site/[handle] â†’ /site/[handle]/contact â†’ ë¬¸ì˜ ì „ì†¡ â†’ ì™„ë£Œ
```

### ì ‘ê·¼ ì¡°ê±´
- **ì¸ì¦ í•„ìš”**: No
- **ê¶Œí•œ ìˆ˜ì¤€**: guest
- **ì „ì œ ì¡°ê±´**: ìœ íš¨í•œ í”„ë¡œ í•¸ë“¤

---

## 2. ë ˆì´ì•„ì›ƒ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [í”„ë¡œ ë¡œê³ /ì´ë¦„]                                    [â† ë’¤ë¡œ]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ë¬¸ì˜í•˜ê¸°                                                        â”‚
â”‚                                                                 â”‚
â”‚  ê¹€í”„ë¡œë‹˜ì—ê²Œ ë ˆìŠ¨ ë¬¸ì˜ë¥¼ ë³´ë‚´ì£¼ì„¸ìš”.                               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  ì´ë¦„ *                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  ì—°ë½ì²˜ *                                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  ì´ë©”ì¼                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  ë¬¸ì˜ ë‚´ìš© *                                           â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                                  â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚  â˜‘ ê°œì¸ì •ë³´ ìˆ˜ì§‘ì— ë™ì˜í•©ë‹ˆë‹¤ [ìì„¸íˆ ë³´ê¸°]               â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â”‚                    [ë¬¸ì˜ ë³´ë‚´ê¸°]                        â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë°”ë¡œ ì—°ë½í•˜ê¸°                                     â”‚
â”‚  [ì¹´ì¹´ì˜¤í†¡ ì˜¤í”ˆì±„íŒ…]                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### 3.1 SiteHeader

**ì‚¬ì´íŠ¸ í—¤ë”**

| Element | Description |
|---------|-------------|
| í”„ë¡œ ì •ë³´ | ë¡œê³ /ì´ë¦„ (í´ë¦­ ì‹œ í¬íŠ¸í´ë¦¬ì˜¤) |
| ë’¤ë¡œ ë²„íŠ¼ | í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì´ë™ |

### 3.2 ContactForm

**ë¬¸ì˜ í¼**

| Field | Type | Required | Validation |
|-------|------|----------|------------|
| ì´ë¦„ | text | âœ“ | ìµœì†Œ 2ì |
| ì—°ë½ì²˜ | tel | âœ“ | ì „í™”ë²ˆí˜¸ í˜•ì‹ |
| ì´ë©”ì¼ | email | - | ì´ë©”ì¼ í˜•ì‹ |
| ë¬¸ì˜ ë‚´ìš© | textarea | âœ“ | ìµœì†Œ 10ì |
| ê°œì¸ì •ë³´ ë™ì˜ | checkbox | âœ“ | í•„ìˆ˜ ì²´í¬ |

### 3.3 KakaoQuickContact

**ì¹´ì¹´ì˜¤í†¡ ë¹ ë¥¸ ì—°ë½**

| Element | Description |
|---------|-------------|
| ì•„ì´ì½˜ | ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ì•„ì´ì½˜ |
| ì„¤ëª… | "ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë°”ë¡œ ì—°ë½í•˜ê¸°" |
| ë²„íŠ¼ | ì¹´ì¹´ì˜¤í†¡ ì˜¤í”ˆì±„íŒ… ë§í¬ |

---

## 4. ë°ì´í„° ìš”êµ¬ì‚¬í•­

### URL Parameters

| Param | Description |
|-------|-------------|
| `handle` | í”„ë¡œ ì»¤ìŠ¤í…€ í•¸ë“¤ |

### Server Actions

| Action | ì„¤ëª… |
|--------|------|
| `getProfileByHandle` | í•¸ë“¤ë¡œ í”„ë¡œ ì •ë³´ ì¡°íšŒ |
| `createLead` | ë¦¬ë“œ ìƒì„± (ë¬¸ì˜ ì „ì†¡) |

### í¼ ë°ì´í„°

```typescript
interface ContactFormData {
  name: string;
  phone: string;
  email?: string;
  message: string;
  privacyAgreed: boolean;
}
```

---

## 5. ì¸í„°ë™ì…˜ ì •ì˜

### 5.1 ë¬¸ì˜ ì „ì†¡

1. **Given** ë¬¸ì˜ í¼ì´ í‘œì‹œë  ë•Œ
2. **When** ëª¨ë“  í•„ìˆ˜ í•„ë“œë¥¼ ì…ë ¥í•˜ê³  ì „ì†¡ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´
3. **Then** ë¡œë”© ìƒíƒœë¡œ ì „í™˜
4. **Then** ë¦¬ë“œê°€ ìƒì„±ë˜ê³  í”„ë¡œì—ê²Œ ì•Œë¦¼ ì „ì†¡
5. **Then** ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
6. **Then** í¼ ì´ˆê¸°í™” ë˜ëŠ” ì™„ë£Œ í™”ë©´

### 5.2 ìœ íš¨ì„± ê²€ì‚¬

| Field | ê²€ì‚¬ ì‹œì  | ì—ëŸ¬ ë©”ì‹œì§€ |
|-------|----------|------------|
| ì´ë¦„ | blur | "ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| ì—°ë½ì²˜ | blur | "ì˜¬ë°”ë¥¸ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| ë¬¸ì˜ ë‚´ìš© | blur | "ë¬¸ì˜ ë‚´ìš©ì„ 10ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| ê°œì¸ì •ë³´ ë™ì˜ | submit | "ê°œì¸ì •ë³´ ìˆ˜ì§‘ì— ë™ì˜í•´ì£¼ì„¸ìš”" |

---

## 6. êµ¬í˜„ ê°€ì´ë“œ

### 6.1 ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```tsx
// app/site/[handle]/contact/page.tsx
import { getProfileByHandle } from '@/actions/profiles';
import { ContactForm } from '@/components/portfolio/ContactForm';

export default async function SiteContactPage({
  params,
}: {
  params: { handle: string };
}) {
  const result = await getProfileByHandle(params.handle);

  if (!result.success) {
    notFound();
  }

  return (
    <div className="min-h-screen bg-tee-background">
      <SiteHeader profile={result.data} />
      <main className="container max-w-xl mx-auto py-8 px-4">
        <ContactForm
          proId={result.data.id}
          proName={result.data.name}
          openChatUrl={result.data.open_chat_url}
        />
      </main>
    </div>
  );
}
```

### 6.2 Server Action

```typescript
// actions/leads.ts
'use server'

export async function createLeadFromContact(
  proId: string,
  formData: ContactFormData
): Promise<ActionResult<Lead>> {
  const supabase = await createClient();

  const { data, error } = await supabase
    .from('leads')
    .insert({
      pro_profile_id: proId,
      name: formData.name,
      phone: formData.phone,
      email: formData.email,
      message: formData.message,
      source: 'site_contact',
    })
    .select()
    .single();

  if (error) return { success: false, error: error.message };

  // TODO: í”„ë¡œì—ê²Œ ì•Œë¦¼ ì „ì†¡

  return { success: true, data };
}
```

---

## 7. ì ‘ê·¼ì„± ìš”êµ¬ì‚¬í•­

- [ ] í¼: ëª¨ë“  í•„ë“œì— label ì—°ê²°
- [ ] ì—ëŸ¬: aria-describedbyë¡œ ì—ëŸ¬ ë©”ì‹œì§€ ì—°ê²°
- [ ] í•„ìˆ˜ í•„ë“œ: aria-required="true"
- [ ] ì „ì†¡ ë²„íŠ¼: ë¡œë”© ì‹œ aria-busy="true"

---

## 8. ì—ëŸ¬ ì¼€ì´ìŠ¤

| ì—ëŸ¬ ìœ í˜• | ì²˜ë¦¬ |
|----------|------|
| ì˜ëª»ëœ í•¸ë“¤ | 404 í˜ì´ì§€ |
| ë¹„í™œì„± í”„ë¡œ | "í˜„ì¬ ë¬¸ì˜ë¥¼ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤" ë©”ì‹œì§€ |
| ì „ì†¡ ì‹¤íŒ¨ | Toast ì—ëŸ¬ + ì¬ì‹œë„ ë²„íŠ¼ |
| ì¤‘ë³µ ì „ì†¡ | ë””ë°”ìš´ìŠ¤ë¡œ ë°©ì§€ |

---

## 9. ê´€ë ¨ í™”ë©´

- **ì´ì „ í™”ë©´**: [Site Portfolio](./site-portfolio.md)
- **ì—°ê´€ í™”ë©´**: [Pro Portfolio](./pro-portfolio.md)
