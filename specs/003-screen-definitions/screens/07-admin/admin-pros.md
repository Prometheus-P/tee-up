# Screen: Admin Pros (프로 관리)

**Route**: `/admin/pros`
**Status**: Implemented
**Last Updated**: 2025-12-18
**Priority**: P0
**Dependencies**: Admin Auth, Admin Layout

---

## 1. 화면 개요

### 목적
관리자가 프로 가입 신청을 검토하고 승인/거부하며, 승인된 프로 목록을 관리한다.

### 사용자 흐름
```
/admin → /admin/pros → 프로 검토 → 승인/거부 → /admin/pros/[id] (상세)
```

### 접근 조건
- **인증 필요**: Yes
- **권한 수준**: admin
- **전제 조건**: 관리자 로그인 완료

---

## 2. 레이아웃 구조

### 와이어프레임

```
┌────────────────────────────────────────────────────────────────────────────┐
│ Admin Header                              [관리자: admin@teeup.kr] [로그아웃]│
├────────────────────────────────────────────────────────────────────────────┤
│ [대시보드] [프로 관리] [사용자 관리] [채팅 관리] [분석]     ← Admin Nav      │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  프로 관리                                                                  │
│                                                                            │
│  승인 대기 (3)                                                              │
│  ┌─────────────────────┐ ┌─────────────────────┐ ┌─────────────────────┐   │
│  │ [이미지]            │ │ [이미지]            │ │ [이미지]            │   │
│  │ 김프로               │ │ 이프로               │ │ 박프로               │   │
│  │ KPGA 프로           │ │ KLPGA 프로          │ │ PGA 프로            │   │
│  │ 신청일: 2024-01-15  │ │ 신청일: 2024-01-14  │ │ 신청일: 2024-01-13  │   │
│  │ [승인] [거부]       │ │ [승인] [거부]       │ │ [승인] [거부]       │   │
│  └─────────────────────┘ └─────────────────────┘ └─────────────────────┘   │
│                                                                            │
│  승인된 프로 (25)                                                           │
│  ┌──────────────────────────────────────────────────────────────────────┐ │
│  │ 이름       │ 타이틀      │ 승인일      │ 리드 수 │ 상태   │ 액션    │ │
│  ├────────────┼─────────────┼─────────────┼─────────┼────────┼─────────┤ │
│  │ 김프로     │ KPGA 프로   │ 2024-01-10 │ 45      │ 활성   │ [상세]  │ │
│  │ 이프로     │ KLPGA 프로  │ 2024-01-08 │ 32      │ 활성   │ [상세]  │ │
│  │ ...        │             │             │         │        │         │ │
│  └──────────────────────────────────────────────────────────────────────┘ │
│                                                                            │
│  [이전] 1 2 3 ... 5 [다음]                                                  │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. 컴포넌트 목록

### 3.1 AdminNav

**관리자 네비게이션 탭**

| Tab | Route | Active 조건 |
|-----|-------|------------|
| 대시보드 | /admin | pathname === '/admin' |
| 프로 관리 | /admin/pros | pathname.startsWith('/admin/pros') |
| 사용자 관리 | /admin/users | pathname === '/admin/users' |
| 채팅 관리 | /admin/chats | pathname === '/admin/chats' |
| 분석 | /admin/analytics | pathname === '/admin/analytics' |

### 3.2 PendingProCard

**승인 대기 프로 카드**

| Element | Description |
|---------|-------------|
| 이미지 | 프로필 이미지 (없으면 기본 아바타) |
| 이름 | 프로 이름 |
| 타이틀 | KPGA 프로 등 |
| 신청일 | 가입 신청 날짜 |
| 승인 버튼 | Primary, 클릭 시 확인 모달 |
| 거부 버튼 | Destructive, 클릭 시 사유 입력 모달 |

### 3.3 ApprovedProsTable

**승인된 프로 테이블**

| Column | Description | 정렬 |
|--------|-------------|------|
| 이름 | 프로 이름 + 슬러그 | - |
| 타이틀 | 직함 | - |
| 승인일 | 승인 날짜 | 기본 내림차순 |
| 리드 수 | 누적 리드 수 | 정렬 가능 |
| 상태 | 활성/비활성 | 필터 가능 |
| 액션 | 상세 보기 링크 | - |

### 3.4 ApprovalModal

**승인 확인 모달**

```
┌─────────────────────────────────────┐
│  프로 승인                          │
│                                     │
│  "{이름}" 님을 프로로 승인하시겠습니까? │
│                                     │
│           [취소] [승인]              │
└─────────────────────────────────────┘
```

### 3.5 RejectionModal

**거부 모달 (사유 입력)**

```
┌─────────────────────────────────────┐
│  프로 신청 거부                      │
│                                     │
│  거부 사유를 입력해주세요:            │
│  ┌───────────────────────────────┐  │
│  │                               │  │
│  │                               │  │
│  └───────────────────────────────┘  │
│                                     │
│           [취소] [거부]              │
└─────────────────────────────────────┘
```

---

## 4. 데이터 요구사항

### Server Actions

| Action | 설명 |
|--------|------|
| `getPendingPros` | 승인 대기 프로 목록 |
| `getApprovedPros` | 승인된 프로 목록 (페이지네이션) |
| `approvePro` | 프로 승인 처리 |
| `rejectPro` | 프로 거부 처리 (사유 포함) |

### 데이터 스키마

```typescript
interface AdminProView {
  id: string;
  user_id: string;
  name: string;
  title: string;
  slug: string;
  profile_image_url: string | null;
  is_approved: boolean;
  approved_at: string | null;
  created_at: string;
  lead_count: number;
}
```

---

## 5. 인터랙션 정의

### 5.1 프로 승인

1. **Given** 관리자가 승인 대기 목록을 보고 있을 때
2. **When** 승인 버튼을 클릭하면
3. **Then** 확인 모달이 표시된다
4. **When** 승인을 확인하면
5. **Then** `is_approved = true`, 승인 대기 목록에서 제거, 승인 목록에 추가
6. **Then** 프로에게 승인 알림 이메일 발송

### 5.2 프로 거부

1. **Given** 관리자가 승인 대기 목록을 보고 있을 때
2. **When** 거부 버튼을 클릭하면
3. **Then** 거부 사유 입력 모달이 표시된다
4. **When** 사유를 입력하고 거부를 확인하면
5. **Then** 해당 프로 데이터가 삭제 또는 거부 상태로 변경
6. **Then** 프로에게 거부 알림 이메일 발송 (사유 포함)

---

## 6. 접근성 요구사항

- [ ] 테이블: 헤더에 scope="col"
- [ ] 모달: 열릴 때 포커스 이동, Escape로 닫기
- [ ] 승인/거부 버튼: 명확한 aria-label
- [ ] 페이지네이션: aria-current="page"

---

## 7. 에러 케이스

| 에러 유형 | 처리 |
|----------|------|
| 권한 없음 | /admin/login으로 리디렉션 |
| 승인 실패 | Toast 에러 + 재시도 |
| 이미 처리됨 | "이미 처리된 신청입니다" 메시지 |

---

## 8. 관련 화면

- **이전 화면**: [Admin Dashboard](./admin-dashboard.md)
- **다음 화면**: [Admin Pro Detail](./admin-pro-detail.md) (미구현)
